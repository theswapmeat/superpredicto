{% extends "base.html" %} {% block content %}
<h2 class="text-center mb-4">Welcome to SuperPredicto</h2>

{% if needs_profile %}
<div class="alert alert-warning text-center" role="alert">
  Please complete your profile to continue using all features.
</div>
{% endif %}

<div class="mb-4 p-3 bg-white">
  <h4 class="text-center mb-3">Leaderboard</h4>
  <div class="table-wrapper mx-auto">
    <div class="table-responsive">
      <table
        class="table table-bordered table-hover align-middle text-nowrap schedule-table"
      >
        <thead class="table-dark text-center">
          <tr>
            <th scope="col" style="width: 5%">Rank</th>
            <th scope="col" style="width: 25%">Name</th>
            <th scope="col" class="border-thick-right" style="width: 12%">
              Points
            </th>
            <th scope="col" style="width: 10%">Perfect</th>
            <th class="d-none d-sm-table-cell" scope="col" style="width: 10%">
              2 Points
            </th>
            <th class="d-none d-sm-table-cell" scope="col" style="width: 10%">
              1 Point
            </th>
            <th class="d-none d-sm-table-cell" scope="col" style="width: 10%">
              0 Points
            </th>
            <th class="d-none d-sm-table-cell" scope="col" style="width: 10%">
              Invalid
            </th>
          </tr>
        </thead>
        <tbody>
          {% if leaderboard %} {% for entry in leaderboard %}
          <tr
            class="text-center {% if loop.index == 1 %}table-warning {% elif loop.index == 2 %}table-info {% elif loop.index == 3 %}table-success {% endif %}"
          >
            <td>{{ loop.index }}</td>
            <td>{{ entry.name }}</td>
            <td class="border-thick-right">{{ entry.points }}</td>
            <td>{{ entry.perfect_picks }}</td>
            <td class="d-none d-sm-table-cell">
              {{ entry.picks_scoring_two }}
            </td>
            <td class="d-none d-sm-table-cell">
              {{ entry.picks_scoring_one }}
            </td>
            <td class="d-none d-sm-table-cell">{{ entry.invalid_picks }}</td>
            <td class="d-none d-sm-table-cell">{{ entry.invalid_picks }}</td>
          </tr>
          {% endfor %} {% else %}
          <tr>
            <td colspan="8" class="text-muted text-center">
              No leaderboard data available.
            </td>
          </tr>
          {% endif %}
        </tbody>
      </table>
    </div>
  </div>
</div>

<style>
  .border-thick-right {
    border-right: 3px solid #343a40 !important;
  }

  .table-wrapper {
    max-width: 900px;
    width: 100%;
  }

  @media (max-width: 576px) {
    .schedule-table td,
    .schedule-table th {
      font-size: 12px;
      padding: 0.25rem;
    }
  }
</style>
{% endblock %}
